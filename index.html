<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOP calculator</title>
    <link rel="stylesheet" href="calc.css">
</head>
<body>
    <script>
        // Functions for the operations
        const add = (a, b) => a + b;
        const sub = (a, b) => a - b;
        const mul = (a, b) => a * b;
        const div = (a, b) => a / b;
        const operate = (opp, a, b) => {
            switch(opp){
                case '+':
                    return add(a, b);
                case '-':
                    return sub(a, b);
                case '*':
                    return mul(a, b);
                case '/':
                    return div(a, b);
            }
        }
        // main box
        const calculatorEl = document.createElement('div');
        calculatorEl.setAttribute('id', 'calculator');
        document.body.appendChild(calculatorEl);
        // display box
        const displayEl = document.createElement('div');
        displayEl.setAttribute('id', 'display');
        calculatorEl.appendChild(displayEl);
        // buttons box
        const btnContainer = document.createElement('div');
        btnContainer.setAttribute('id', 'buttonContainer');
        calculatorEl.appendChild(btnContainer);
        // symbols box
        const symbolsContainer = document.createElement('div');
        symbolsContainer.setAttribute('id', 'symbolsContainer');
        btnContainer.appendChild(symbolsContainer);
        // numbers box
        const numContainer = document.createElement('div');
        numContainer.setAttribute('id', 'numContainer');
        btnContainer.appendChild(numContainer);
        // symbols Array
        const symbolsArray = ['+', '-', '*', '/', '=', 'C'];
        // create operator buttons and append to symbols box
        for(e of symbolsArray){
            let symbolButton = document.createElement('button');
            symbolButton.setAttribute('class', 'symbolButtons');
            symbolButton.setAttribute('id', `${e}`);
            symbolButton.textContent = `${e}`;
            symbolsContainer.appendChild(symbolButton);
        }
        let symbols = symbolsContainer.querySelectorAll('.symbolButtons')
        symbols.forEach(symbol => {
            if(symbol.id !== '=' && symbol.id !== 'C'){
                symbol.classList.add('operators')
            }
        });
        // create number buttons and append to numbers box
        for(i = 0; i < 10; i++){
            let numButton = document.createElement('button');
            numButton.setAttribute('class', 'numButtons');
            numButton.setAttribute('id', i);
            numButton.textContent = i;
            numContainer.appendChild(numButton);
        }

        let displayValue = [];
        let firstNum = 0;
        let operator = [];
        let secondNum = 0;

        let calcButtons = btnContainer.querySelectorAll('button');
        calcButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                switch(button.id){
                    case 'C':
                        displayValue.length = 0;
                        break;
                    case '=':
                        let oppIndex = displayValue.indexOf(operator[0]);
                        secondNum = displayValue.slice(oppIndex + 1).join('');
                        console.log(firstNum);
                        console.log(operator[0]);
                        console.log(secondNum);
                        break;
                    default:
                        displayValue.push(button.id);   
                    }
                if (button.classList.contains('operators')) {
                    operator.push(button.id);
                    let oppIndex = displayValue.indexOf(button.id);
                    firstNum = displayValue.slice(0, oppIndex).join('');
                }
                displayEl.textContent = displayValue.join('');
            });
        });



    </script>
</body>
</html>